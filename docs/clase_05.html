

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="es" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Clase 5: Funciones &mdash; documentación de Clases de Python - 2020.1</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/rtd_overrides.css" type="text/css" />
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="Clase 6: Programación Orientada a Objetos" href="clase_06.html" />
    <link rel="prev" title="Clase 4: Técnicas de iteración y Funciones" href="clase_04.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Clases de Python
          

          
          </a>

          
            
            
              <div class="version">
                2020
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Dictado de las clases</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="clase_00.html">Clase 0: Introducción al lenguaje Python orientado a Ingenierías y Física</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_01.html">Clase 1: Introducción al lenguaje</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_02.html">Clase 2: Tipos de datos y control</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_03.html">Clase 3: Control de flujo y tipos complejos</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_04.html">Clase 4: Técnicas de iteración y Funciones</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Clase 5: Funciones</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#empacar-y-desempacar-secuencias-o-diccionarios">Empacar y desempacar secuencias o diccionarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="#funciones-que-devuelven-funciones">Funciones que devuelven funciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ejercicios-05-a">Ejercicios 05 (a)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#funciones-que-toman-como-argumento-una-funcion">Funciones que toman como argumento una función</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aplicacion-1-ordenamiento-de-listas">Aplicacion 1: Ordenamiento de listas</a></li>
<li class="toctree-l2"><a class="reference internal" href="#funciones-anonimas">Funciones anónimas</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ejemplo-1-integracion-numerica">Ejemplo 1: Integración numérica</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#uso-de-funciones-anonimas">Uso de funciones anónimas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ejemplo-2-polinomio-interpolador">Ejemplo 2: Polinomio interpolador</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ejercicios-05-b">Ejercicios 05 (b)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#funciones-que-aceptan-y-devuelven-funciones-decoradores">Funciones que aceptan y devuelven funciones (Decoradores)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#notacion-para-decoradores">Notación para decoradores</a></li>
<li class="toctree-l3"><a class="reference internal" href="#algunos-usos-de-decoradores">Algunos Usos de decoradores</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#atrapar-y-administrar-errores">Atrapar y administrar errores</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#administracion-de-excepciones">Administración de excepciones</a></li>
<li class="toctree-l3"><a class="reference internal" href="#levantando-excepciones">“Levantando” excepciones</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="clase_06.html">Clase 6: Programación Orientada a Objetos</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_07.html">Clase 7: Control de versiones y biblioteca standard</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_08.html">Clase 8: Introducción a Numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_09.html">Clase 9: Visualización</a></li>
<li class="toctree-l1"><a class="reference internal" href="clase_10.html">Clase 10: Más información sobre <strong>Numpy</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="ejercicios_01.html">Ejercicios de Clase 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="ejercicios_02.html">Ejercicios de Clase 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="ejercicios_03.html">Ejercicios de Clase 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="ejercicios_04.html">Ejercicios de Clase 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="ejercicios_05.html">Ejercicios de Clase 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="ejercicios_06.html">Ejercicios de Clase 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="ejercicios_08.html">Ejercicios de Clase 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="ejercicios_09.html">Ejercicios de Clase 9</a></li>
<li class="toctree-l1"><a class="reference internal" href="ejercicios_10.html">Ejercicios de Clase 10</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Clases de Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Clase 5: Funciones</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/clase_05.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="clase-5-funciones">
<h1>Clase 5: Funciones<a class="headerlink" href="#clase-5-funciones" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="empacar-y-desempacar-secuencias-o-diccionarios">
<h2>Empacar y desempacar secuencias o diccionarios<a class="headerlink" href="#empacar-y-desempacar-secuencias-o-diccionarios" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Cuando en <strong>Python</strong> creamos una función que acepta un número arbitrario
de argumentos estamos utilizando una habilidad del lenguaje que es el
“empaquetamiento” y “desempaquetamiento” automático de variables.</p>
<p>Al definir un número variable de argumentos de la forma:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">v</span><span class="p">):</span>
<span class="o">...</span>
</pre></div>
</div>
<p>y luego utilizarla en alguna de las formas:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;hola&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">3.5</span><span class="p">,</span> <span class="s1">&#39;hola&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Python</strong> automáticamente convierte los argumentos en una única tupla:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                 <span class="o">--&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
<span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;hola&#39;</span><span class="p">)</span>          <span class="o">--&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;hola&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">3.5</span><span class="p">,</span> <span class="s1">&#39;hola&#39;</span><span class="p">)</span>   <span class="o">--&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">3.5</span><span class="p">,</span><span class="s1">&#39;hola&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Análogamente, cuando utilizamos funciones podemos desempacar múltiples
valores en los argumentos de llamada a las funciones.</p>
<p>Si definimos una función que recibe un número determinado de argumentos</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
<span class="o">...</span>
</pre></div>
</div>
<p>y definimos una lista (o tupla)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a1</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">c1</span><span class="p">]</span>
</pre></div>
</div>
<p>podemos realizar la llamada a la función utilizando la notación
“asterisco” o “estrella”</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="p">(</span><span class="o">*</span><span class="n">t1</span><span class="p">)</span>             <span class="o">--&gt;</span>  <span class="n">g</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">c1</span><span class="p">)</span>
</pre></div>
</div>
<p>Esta notación no se puede utilizar en cualquier contexto. Por ejemplo,
es un error tratar de hacer</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t2</span> <span class="o">=</span> <span class="o">*</span><span class="n">t1</span>
</pre></div>
</div>
<p>pero en el contexto de funciones podemos “desempacarlos” para
convertirlos en varios argumentos que acepta la función usando la
expresión con asterisco. Veamos lo que esto quiere decir con la función
<code class="docutils literal notranslate"><span class="pre">caida_libre()</span></code> definida anteriormente</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">caida_libre</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">h0</span><span class="p">,</span> <span class="n">v0</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mf">9.8</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Devuelve la velocidad y la posición de una partícula en</span>
<span class="sd">  caída libre para condiciones iniciales dadas</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  t : float</span>
<span class="sd">      el tiempo al que queremos realizar el cálculo</span>
<span class="sd">  h0: float</span>
<span class="sd">      la altura inicial</span>
<span class="sd">  v0: float (opcional)</span>
<span class="sd">      la velocidad inicial (default = 0.0)</span>
<span class="sd">   g: float (opcional)</span>
<span class="sd">      valor de la aceleración de la gravedad (default = 9.8)</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">  (v,h):  tuple of floats</span>
<span class="sd">       v= v0 - g*t</span>
<span class="sd">       h= h0 - v0*t -g*t^2/2</span>

<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">v</span> <span class="o">=</span> <span class="n">v0</span> <span class="o">-</span> <span class="n">g</span><span class="o">*</span><span class="n">t</span>
  <span class="n">h</span> <span class="o">=</span> <span class="n">h0</span> <span class="o">-</span> <span class="n">v0</span><span class="o">*</span><span class="n">t</span> <span class="o">-</span> <span class="n">g</span><span class="o">*</span><span class="n">t</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="mf">2.</span>
  <span class="k">return</span> <span class="n">v</span><span class="p">,</span><span class="n">h</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">datos</span> <span class="o">=</span> <span class="p">(</span><span class="mf">5.4</span><span class="p">,</span> <span class="mf">1000.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>        <span class="c1"># Una lista (tuple en realidad)</span>
<span class="k">print</span> <span class="p">(</span><span class="n">caida_libre</span><span class="p">(</span><span class="o">*</span><span class="n">datos</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">-</span><span class="mf">52.92000000000001</span><span class="p">,</span> <span class="mf">857.116</span><span class="p">)</span>
</pre></div>
</div>
<p>En la llamada a la función, la expresión <code class="docutils literal notranslate"><span class="pre">*datos</span></code> le indica al
intérprete Python que la secuencia (tuple) debe convertirse en una
sucesión de argumentos, que es lo que acepta la función.</p>
<p>Similarmente, para desempacar un diccionario usamos la notación
<code class="docutils literal notranslate"><span class="pre">**diccionario</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># diccionario, caída libre en la luna</span>
<span class="n">otros_datos</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span><span class="mf">5.4</span><span class="p">,</span> <span class="s1">&#39;h0&#39;</span><span class="p">:</span> <span class="mf">1000.</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span> <span class="p">:</span> <span class="mf">1.625</span><span class="p">}</span>
<span class="n">v</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">caida_libre</span><span class="p">(</span><span class="o">**</span><span class="n">otros_datos</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s1">&#39;v={}, h={}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">h</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">v</span><span class="o">=-</span><span class="mf">8.775</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mf">976.3075</span>
</pre></div>
</div>
<p>En resumen:</p>
<ul class="simple">
<li><p>la notación <code class="docutils literal notranslate"><span class="pre">(*datos)</span></code> convierte la tuple (o lista) en los tres
argumentos que acepta la función caída libre. Los siguientes llamados
son equivalentes:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">caida_libre</span><span class="p">(</span><span class="o">*</span><span class="n">datos</span><span class="p">)</span>
<span class="n">caida_libre</span><span class="p">(</span><span class="n">datos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">datos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">datos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">caida_libre</span><span class="p">(</span><span class="mf">5.4</span><span class="p">,</span> <span class="mf">1000.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>la notación <code class="docutils literal notranslate"><span class="pre">(**otros_datos)</span></code> desempaca el diccionario en pares
<code class="docutils literal notranslate"><span class="pre">clave=valor</span></code>, siendo equivalentes los dos llamados:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">caida_libre</span><span class="p">(</span><span class="o">**</span><span class="n">otros_datos</span><span class="p">)</span>
<span class="n">caida_libre</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mf">5.4</span><span class="p">,</span> <span class="n">h0</span><span class="o">=</span><span class="mf">1000.</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="funciones-que-devuelven-funciones">
<h2>Funciones que devuelven funciones<a class="headerlink" href="#funciones-que-devuelven-funciones" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Las funciones pueden ser pasadas como argumento y pueden ser retornadas
por una función, como cualquier otro objeto (números, listas, tuples,
cadenas de caracteres, diccionarios, etc). Veamos un ejemplo simple de
funciones que devuelven una función:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">crear_potencia</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
  <span class="s2">&quot;Devuelve la función x^n&quot;</span>
  <span class="k">def</span> <span class="nf">potencia</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="s2">&quot;potencia {}-esima de x&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="n">n</span>
  <span class="k">return</span> <span class="n">potencia</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">crear_potencia</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">cubos</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">(</span><span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="section" id="ejercicios-05-a">
<h2>Ejercicios 05 (a)<a class="headerlink" href="#ejercicios-05-a" title="Enlazar permanentemente con este título">¶</a></h2>
<ol class="arabic simple">
<li><p>Escriba una función <code class="docutils literal notranslate"><span class="pre">crear_sen(A,</span> <span class="pre">w)</span></code> que acepte dos números reales
<span class="math notranslate nohighlight">\(A, w\)</span> como argumentos y devuelva la función <code class="docutils literal notranslate"><span class="pre">f(x)</span></code>.</p></li>
</ol>
<p>Al evaluar la función <code class="docutils literal notranslate"><span class="pre">f</span></code> en un dado valor <span class="math notranslate nohighlight">\(x\)</span> debe dar el
resultado: <span class="math notranslate nohighlight">\(f(x) = A \sin(w x)\)</span> tal que se pueda utilizar de la
siguiente manera:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">crear_sen</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>          <span class="c1"># Debería imprimir el resultado de 3*sin(1.5*2)=0.4233600241796016</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Utilizando conjuntos (<code class="docutils literal notranslate"><span class="pre">set</span></code>), escriba una función que compruebe si
un string contiene todas las vocales. La función debe devolver
<code class="docutils literal notranslate"><span class="pre">True</span></code> o <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ol>
</div>
<div class="section" id="funciones-que-toman-como-argumento-una-funcion">
<h2>Funciones que toman como argumento una función<a class="headerlink" href="#funciones-que-toman-como-argumento-una-funcion" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">aplicar_fun</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">L</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Aplica la función f a cada elemento del iterable L y devuelve una lista con los resultados.</span>

<span class="sd">  IMPORTANTE: Notar que no se realiza ninguna comprobación de validez</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">L</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span> <span class="kn">as</span> <span class="nn">m</span>
<span class="n">Lista</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">aplicar_fun</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">sin</span><span class="p">,</span> <span class="n">Lista</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">0.8414709848078965</span><span class="p">,</span>
 <span class="mf">0.9092974268256817</span><span class="p">,</span>
 <span class="mf">0.1411200080598672</span><span class="p">,</span>
 <span class="o">-</span><span class="mf">0.7568024953079282</span><span class="p">,</span>
 <span class="o">-</span><span class="mf">0.9589242746631385</span><span class="p">,</span>
 <span class="o">-</span><span class="mf">0.27941549819892586</span><span class="p">,</span>
 <span class="mf">0.6569865987187891</span><span class="p">,</span>
 <span class="mf">0.9893582466233818</span><span class="p">,</span>
 <span class="mf">0.4121184852417566</span><span class="p">]</span>
</pre></div>
</div>
<p>El ejemplo anterior se podría escribir</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Lista</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="n">aplicar_fun</span><span class="p">(</span><span class="n">crear_potencia</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">Lista</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">64</span><span class="p">]</span>
</pre></div>
</div>
<p>Notar que definimos la función <code class="docutils literal notranslate"><span class="pre">aplicar_fun()</span></code> que recibe una función
y una secuencia, pero no necesariamente una lista, por lo que podemos
aplicarla directamente a <code class="docutils literal notranslate"><span class="pre">range</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">aplicar_fun</span><span class="p">(</span><span class="n">crear_potencia</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">64</span><span class="p">]</span>
</pre></div>
</div>
<p>Además, debido a su definición, el primer argumento de la función
<code class="docutils literal notranslate"><span class="pre">aplicar_fun()</span></code> no está restringida a funciones numéricas pero al
usarla tenemos que asegurar que la función y el iterable (lista) que
pasamos como argumentos son compatibles.</p>
<p>Veamos otro ejemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;hola&#39;</span><span class="p">,</span> <span class="s1">&#39;chau&#39;</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">aplicar_fun</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">upper</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;HOLA&#39;</span><span class="p">,</span> <span class="s1">&#39;CHAU&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>donde <code class="docutils literal notranslate"><span class="pre">str.upper</span></code> es una función definida en <strong>Python</strong>, que convierte
a mayúsculas el string dado <code class="docutils literal notranslate"><span class="pre">str.upper('hola')</span> <span class="pre">=</span> <span class="pre">'HOLA'</span></code>.</p>
</div>
<div class="section" id="aplicacion-1-ordenamiento-de-listas">
<h2>Aplicacion 1: Ordenamiento de listas<a class="headerlink" href="#aplicacion-1-ordenamiento-de-listas" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Consideremos el problema del ordenamiento de una lista de strings. Como
vemos el resultado usual no es necesariamente el deseado</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">s1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Acá <code class="docutils literal notranslate"><span class="pre">sorted</span></code> es una función, similar al método <code class="docutils literal notranslate"><span class="pre">str.sort()</span></code> que
mencionamos anteriormente, con la diferencia que devuelve una nueva
lista con los elementos ordenados. Como los elementos son <em>strings</em>, la
comparación se hace respecto a su posición en el abecedario. En este
caso no es lo mismo mayúsculas o minúsculas.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s2</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">s1</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">s2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;curso&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;curso&#39;</span><span class="p">,</span> <span class="s1">&#39;estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;python&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Posiblemente queremos el orden que obtuvimos en segundo lugar pero con
los elementos dados originalmente (con sus mayúsculas y minúsculas
originales). Para poder modificar el modo en que se ordenan los
elementos, la función <code class="docutils literal notranslate"><span class="pre">sorted</span></code> (y el método <code class="docutils literal notranslate"><span class="pre">sort</span></code>) tienen el
argumento opcional <code class="docutils literal notranslate"><span class="pre">key</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="nb">sorted</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Help</span> <span class="n">on</span> <span class="n">built</span><span class="o">-</span><span class="ow">in</span> <span class="n">function</span> <span class="nb">sorted</span> <span class="ow">in</span> <span class="n">module</span> <span class="n">builtins</span><span class="p">:</span>

<span class="nb">sorted</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">Return</span> <span class="n">a</span> <span class="n">new</span> <span class="nb">list</span> <span class="n">containing</span> <span class="nb">all</span> <span class="n">items</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">iterable</span> <span class="ow">in</span> <span class="n">ascending</span> <span class="n">order</span><span class="o">.</span>

    <span class="n">A</span> <span class="n">custom</span> <span class="n">key</span> <span class="n">function</span> <span class="n">can</span> <span class="n">be</span> <span class="n">supplied</span> <span class="n">to</span> <span class="n">customize</span> <span class="n">the</span> <span class="n">sort</span> <span class="n">order</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span>
    <span class="n">reverse</span> <span class="n">flag</span> <span class="n">can</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">request</span> <span class="n">the</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">descending</span> <span class="n">order</span><span class="o">.</span>
</pre></div>
</div>
<p>Como vemos tiene un argumento opcional <code class="docutils literal notranslate"><span class="pre">key</span></code> que es una función.
Veamos algunos ejemplos de su uso</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Como vemos, los strings están ordenados adecuadamente. Si queremos
ordenarlos por longitud de la palabra</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;Estudiantes&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Supongamos que queremos ordenarla alfabéticamente por la segunda letra</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">segunda</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="nb">sorted</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">segunda</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="funciones-anonimas">
<h2>Funciones anónimas<a class="headerlink" href="#funciones-anonimas" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En ocasiones como esta suele ser más rápido (o conveniente) definir la
función, que se va a utilizar una única vez, sin darle un nombre. Estas
se llaman funciones <em>lambda</em>, y el ejemplo anterior se escribiría</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;caballeros&#39;</span><span class="p">,</span> <span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Si queremos ordenarla alfabéticamente empezando desde la última letra:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="n">a</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;pc&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;aereo&#39;</span><span class="p">,</span> <span class="s1">&#39;Curso&#39;</span><span class="p">,</span> <span class="s1">&#39;Estudiantes&#39;</span><span class="p">,</span> <span class="s1">&#39;caballeros&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="ejemplo-1-integracion-numerica">
<h2>Ejemplo 1: Integración numérica<a class="headerlink" href="#ejemplo-1-integracion-numerica" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Veamos en más detalle el caso de funciones que reciben como argumento
otra función, estudiando un caso usual: una función de integración debe
recibir como argumento al menos una función a integrar y los límites de
integración:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># %load scripts/05_ejemplo_1.py</span>
<span class="k">def</span> <span class="nf">integrate_simps</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Calcula numéricamente la integral de la función en el intervalo dado</span>
<span class="sd">  utilizando la regla de Simpson</span>

<span class="sd">  Keyword Arguments:</span>
<span class="sd">  f -- Función a integrar</span>
<span class="sd">  a -- Límite inferior</span>
<span class="sd">  b -- Límite superior</span>
<span class="sd">  N -- El intervalo se separa en 2*N intervalos</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">N</span><span class="p">)</span>
  <span class="n">I</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">x2j</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">j</span> <span class="o">*</span> <span class="n">h</span>
    <span class="n">x2jm1</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">h</span>
    <span class="n">I</span> <span class="o">+=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">f</span><span class="p">(</span><span class="n">x2j</span><span class="p">)</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">f</span><span class="p">(</span><span class="n">x2jm1</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">I</span> <span class="o">*</span> <span class="n">h</span> <span class="o">/</span> <span class="mi">3</span>
</pre></div>
</div>
<p>En este ejemplo programamos la fórmula de integración de Simpson para
obtener la integral de una función <code class="docutils literal notranslate"><span class="pre">f(x)</span></code> provista por el usuario, en
un dado intervalo:</p>
<div class="math notranslate nohighlight">
\[\int _{a}^{b}f(x)\,dx\approx \frac{h}{3} \bigg[ f(x_{0}) + 2 \sum_{j=1}^{n/2} f(x_{2j}) + 4 \sum_{j=1}^{n/2} f(x_{2j-1}) - f(x_{n})\bigg]\]</div>
<p>¿Cómo usamos la función de integración?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">potencia2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>

<span class="n">integrate_simps</span><span class="p">(</span><span class="n">potencia2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">9.0</span>
</pre></div>
</div>
<p>Acá definimos una función, y se la pasamos como argumento a la función
de integración.</p>
<div class="section" id="uso-de-funciones-anonimas">
<h3>Uso de funciones anónimas<a class="headerlink" href="#uso-de-funciones-anonimas" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Veamos como sería el uso de funciones anónimas en este contexto</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">integrate_simps</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">9.0</span>
</pre></div>
</div>
<p>La notación es un poco más corta, que es cómodo pero no muy relevante
para un caso. Si queremos, por ejemplo, aplicar el integrador a una
familia de funciones la notación se simplifica notablemente:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Integrales:&#39;</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
  <span class="n">I</span> <span class="o">=</span> <span class="n">integrate_simps</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="n">n</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="s1">&#39;I ( {} x^{}, {}, {} ) = {:.5f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">I</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Integrales</span><span class="p">:</span>
<span class="n">I</span> <span class="p">(</span> <span class="mi">1</span> <span class="n">x</span><span class="o">^</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">=</span> <span class="mf">3.00000</span>
<span class="n">I</span> <span class="p">(</span> <span class="mi">2</span> <span class="n">x</span><span class="o">^</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">=</span> <span class="mf">9.00000</span>
<span class="n">I</span> <span class="p">(</span> <span class="mi">3</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">=</span> <span class="mf">27.00000</span>
<span class="n">I</span> <span class="p">(</span> <span class="mi">4</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">=</span> <span class="mf">81.00000</span>
<span class="n">I</span> <span class="p">(</span> <span class="mi">5</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">=</span> <span class="mf">243.00101</span>
<span class="n">I</span> <span class="p">(</span> <span class="mi">6</span> <span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">=</span> <span class="mf">729.00911</span>
</pre></div>
</div>
<p>Este es un ejemplo de uso de las funciones anónimas <code class="docutils literal notranslate"><span class="pre">lambda</span></code>.
Recordemos que la forma general de las funciones <code class="docutils literal notranslate"><span class="pre">lambda</span></code> es:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">:</span> <span class="n">expresión_de</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p>por ejemplo en el ejemplo anterior, para calcular <span class="math notranslate nohighlight">\((n+1) x^n\)</span>,
hicimos:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="n">n</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ejemplo-2-polinomio-interpolador">
<h2>Ejemplo 2: Polinomio interpolador<a class="headerlink" href="#ejemplo-2-polinomio-interpolador" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Veamos ahora una función que retorna una función. Supongamos que tenemos
una tabla de puntos <code class="docutils literal notranslate"><span class="pre">(x,y)</span></code> por los que pasan nuestros datos y
queremos interpolar los datos con un polinomio.</p>
<p>Sabemos que dados <code class="docutils literal notranslate"><span class="pre">N</span></code> puntos, hay un único polinomio de grado <code class="docutils literal notranslate"><span class="pre">N</span></code>
que pasa por todos los puntos. En este ejemplo utilizamos la fórmula de
Lagrange para obtenerlo.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">load</span> <span class="n">scripts</span><span class="o">/</span><span class="n">ejemplo_05_2</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># %load scripts/ejemplo_05_2.py</span>
<span class="k">def</span> <span class="nf">polinomio_interp</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Devuelve el polinomio interpolador que pasa por los puntos (x_i, y_i)</span>

<span class="sd">    Warning: La implementación es numéricamente inestable. Funciona para algunos puntos (menor a 20)</span>

<span class="sd">  Keyword Arguments:</span>
<span class="sd">  x -- Lista con los valores de x</span>
<span class="sd">  y -- Lista con los valores de y</span>
<span class="sd">  &quot;&quot;&quot;</span>

  <span class="n">M</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">polin</span><span class="p">(</span><span class="n">xx</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Evalúa el polinomio interpolador de Lagrange&quot;&quot;&quot;</span>
    <span class="n">P</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">M</span><span class="p">):</span>
      <span class="n">pt</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
      <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">M</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="n">j</span><span class="p">:</span>
          <span class="k">continue</span>
        <span class="n">fac</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="n">pt</span> <span class="o">*=</span> <span class="p">(</span><span class="n">xx</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="o">/</span> <span class="n">fac</span>
      <span class="n">P</span> <span class="o">+=</span> <span class="n">pt</span>
    <span class="k">return</span> <span class="n">P</span>

  <span class="k">return</span> <span class="n">polin</span>
</pre></div>
</div>
<p>Lo que obtenemos al llamar a esta función es una función</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">polinomio_interp</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">function</span> <span class="n">__main__</span><span class="o">.</span><span class="n">polinomio_interp</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">polin</span><span class="p">(</span><span class="n">xx</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Help</span> <span class="n">on</span> <span class="n">function</span> <span class="n">polin</span> <span class="ow">in</span> <span class="n">module</span> <span class="n">__main__</span><span class="p">:</span>

<span class="n">polin</span><span class="p">(</span><span class="n">xx</span><span class="p">)</span>
    <span class="n">Evalúa</span> <span class="n">el</span> <span class="n">polinomio</span> <span class="n">interpolador</span> <span class="n">de</span> <span class="n">Lagrange</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="mf">3.4</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">6.8</span>
</pre></div>
</div>
<p>Este es el resultado esperado porque queremos el polinomio que pasa por
dos puntos (una recta), y en este caso es la recta <span class="math notranslate nohighlight">\(y = 2x\)</span>.
Veamos cómo usarlo, en forma más general:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># %load scripts/ejemplo_05_3</span>
<span class="c1">#from ejemplo_05_2 import polinomio_interp</span>

<span class="n">xmax</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">step</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">5</span> <span class="o">/</span> <span class="n">step</span><span class="p">)</span>

<span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>   <span class="c1"># x^2</span>
<span class="n">f2</span> <span class="o">=</span> <span class="n">polinomio_interp</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>

<span class="n">x3</span><span class="p">,</span> <span class="n">y3</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">54</span><span class="p">]</span>  <span class="c1"># 2 x^3</span>
<span class="n">f3</span> <span class="o">=</span> <span class="n">polinomio_interp</span><span class="p">(</span><span class="n">x3</span><span class="p">,</span> <span class="n">y3</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1"> x   f2(x)   f3(x)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="mi">18</span> <span class="o">*</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
  <span class="n">x</span> <span class="o">=</span> <span class="n">step</span> <span class="o">*</span> <span class="n">j</span>
  <span class="k">print</span><span class="p">(</span><span class="s1">&#39;{:.1f}  {:5.2f}  {:6.2f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">f2</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">f3</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">x</span>   <span class="n">f2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>   <span class="n">f3</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="o">------------------</span>
<span class="mf">0.0</span>   <span class="mf">0.00</span>    <span class="mf">0.00</span>
<span class="mf">0.2</span>   <span class="mf">0.04</span>    <span class="mf">0.02</span>
<span class="mf">0.4</span>   <span class="mf">0.16</span>    <span class="mf">0.13</span>
<span class="mf">0.6</span>   <span class="mf">0.36</span>    <span class="mf">0.43</span>
<span class="mf">0.8</span>   <span class="mf">0.64</span>    <span class="mf">1.02</span>
<span class="mf">1.0</span>   <span class="mf">1.00</span>    <span class="mf">2.00</span>
<span class="mf">1.2</span>   <span class="mf">1.44</span>    <span class="mf">3.46</span>
<span class="mf">1.4</span>   <span class="mf">1.96</span>    <span class="mf">5.49</span>
<span class="mf">1.6</span>   <span class="mf">2.56</span>    <span class="mf">8.19</span>
<span class="mf">1.8</span>   <span class="mf">3.24</span>   <span class="mf">11.66</span>
<span class="mf">2.0</span>   <span class="mf">4.00</span>   <span class="mf">16.00</span>
<span class="mf">2.2</span>   <span class="mf">4.84</span>   <span class="mf">21.30</span>
<span class="mf">2.4</span>   <span class="mf">5.76</span>   <span class="mf">27.65</span>
<span class="mf">2.6</span>   <span class="mf">6.76</span>   <span class="mf">35.15</span>
<span class="mf">2.8</span>   <span class="mf">7.84</span>   <span class="mf">43.90</span>
<span class="mf">3.0</span>   <span class="mf">9.00</span>   <span class="mf">54.00</span>
<span class="mf">3.2</span>  <span class="mf">10.24</span>   <span class="mf">65.54</span>
<span class="mf">3.4</span>  <span class="mf">11.56</span>   <span class="mf">78.61</span>
<span class="mf">3.6</span>  <span class="mf">12.96</span>   <span class="mf">93.31</span>
<span class="mf">3.8</span>  <span class="mf">14.44</span>  <span class="mf">109.74</span>
<span class="mf">4.0</span>  <span class="mf">16.00</span>  <span class="mf">128.00</span>
<span class="mf">4.2</span>  <span class="mf">17.64</span>  <span class="mf">148.18</span>
<span class="mf">4.4</span>  <span class="mf">19.36</span>  <span class="mf">170.37</span>
<span class="mf">4.6</span>  <span class="mf">21.16</span>  <span class="mf">194.67</span>
<span class="mf">4.8</span>  <span class="mf">23.04</span>  <span class="mf">221.18</span>
</pre></div>
</div>
</div>
<div class="section" id="ejercicios-05-b">
<h2>Ejercicios 05 (b)<a class="headerlink" href="#ejercicios-05-b" title="Enlazar permanentemente con este título">¶</a></h2>
<ol class="arabic" start="3">
<li><p>Escriba una serie de funciones que permitan trabajar con polinomios.
Vamos a representar a un polinomio como una lista de números reales,
donde cada elemento corresponde a un coeficiente que acompaña una
potencia</p>
<ul class="simple">
<li><p>Una función que devuelva el orden del polinomio (un número entero)</p></li>
<li><p>Una función que sume dos polinomios y devuelva un polinomio
(objeto del mismo tipo)</p></li>
<li><p>Una función que multiplique dos polinomios y devuelva el resultado
en otro polinomio</p></li>
<li><p>Una función devuelva la derivada del polinomio (otro polinomio).</p></li>
<li><p>Una función que, acepte el polinomio y devuelva la función
correspondiente.</p></li>
</ul>
</li>
<li><p>Vamos a describir un <strong>sudoku</strong> como un array bidimensional de
<code class="docutils literal notranslate"><span class="pre">9x9</span></code> números, cada uno de ellos entre 1 y 4.</p>
<p>Escribir una función que tome como argumento una grilla (Lista
bidimensional de <code class="docutils literal notranslate"><span class="pre">9x9</span></code>) y devuelva verdadero si los números
corresponden a la resolución correcta y falso en caso contrario.
Recordamos que para que sea válido debe cumplirse que:</p>
<ul class="simple">
<li><p>Los números están entre 1 y 9</p></li>
<li><p>En cada fila no deben repetirse</p></li>
<li><p>En cada columna no deben repetirse</p></li>
<li><p>En todas las regiones de 3x3 que no se solapan, empezando de
cualquier esquina, no deben repetirse.</p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="funciones-que-aceptan-y-devuelven-funciones-decoradores">
<h2>Funciones que aceptan y devuelven funciones (Decoradores)<a class="headerlink" href="#funciones-que-aceptan-y-devuelven-funciones-decoradores" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Consideremos la siguiente función <code class="docutils literal notranslate"><span class="pre">mas_uno</span></code>, que toma como argumento
una función y devuelve otra función.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mas_uno</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
  <span class="s2">&quot;Devuelve una función&quot;</span>
  <span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="s2">&quot;Agrega 1 a cada uno de los elementos y luego aplica la función&quot;</span>
    <span class="n">xx</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>
    <span class="n">y</span><span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">xx</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">y</span>
  <span class="k">return</span> <span class="n">fun</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ssum</span><span class="o">=</span> <span class="n">mas_uno</span><span class="p">(</span><span class="nb">sum</span><span class="p">)</span>                 <span class="c1"># h es una función</span>
<span class="n">mmin</span><span class="o">=</span> <span class="n">mas_uno</span><span class="p">(</span><span class="nb">min</span><span class="p">)</span>                 <span class="c1"># f es una función</span>
<span class="n">mmax</span><span class="o">=</span> <span class="n">mas_uno</span><span class="p">(</span><span class="nb">max</span><span class="p">)</span>                 <span class="c1"># g es una función</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">3.3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">7.5</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">ssum</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">mmin</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">mmax</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</pre></div>
</div>
<div class="section" id="notacion-para-decoradores">
<h3>Notación para decoradores<a class="headerlink" href="#notacion-para-decoradores" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Podemos aplicar la función tanto a funciones “intrínsecas” como a
funciones definidas por nosotros</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">parabola</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mparabola</span> <span class="o">=</span> <span class="n">mas_uno</span><span class="p">(</span><span class="n">parabola</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">parabola</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">mparabola</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</pre></div>
</div>
<p>Notemos que al decorar una función estamos creando una enteramente nueva</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">del</span> <span class="n">parabola</span>                    <span class="c1"># Borramos el objeto</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">parabola</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mparabola</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<p>Algunas veces queremos eso, renombrar la función original (se lo llama
“decorar”):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">parabola</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
<span class="n">mparabola</span> <span class="o">=</span> <span class="n">mas_uno</span><span class="p">(</span><span class="n">parabola</span><span class="p">)</span>
<span class="k">del</span> <span class="n">parabola</span>
<span class="n">parabola</span> <span class="o">=</span> <span class="n">mparabola</span>
<span class="k">del</span> <span class="n">mparabola</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Son</span> <span class="n">un</span> <span class="n">montón</span> <span class="n">de</span> <span class="n">líneas</span><span class="p">,</span> <span class="n">podemos</span> <span class="n">simplificarlo</span><span class="p">:</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">parabola</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
<span class="n">parabola</span> <span class="o">=</span> <span class="n">mas_uno</span><span class="p">(</span><span class="n">parabola</span><span class="p">)</span>
</pre></div>
</div>
<p>Esta es una situación que puede darse frecuentemente en algunas áreas.
Se decidió simplificar la notación, introduciendo el uso de &#64;. Lo
anterior puede escribirse como:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@mas_uno</span>
<span class="k">def</span> <span class="nf">mi_parabola</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<p>La única restricción para utilizar esta notación es que la línea con el
decorador debe estar inmediatamente antes de la definición de la función
a decorar</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mi_parabola</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="algunos-usos-de-decoradores">
<h3>Algunos Usos de decoradores<a class="headerlink" href="#algunos-usos-de-decoradores" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mi_parabola</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>El problema aquí es que definimos la función para tomar como argumentos
una lista (o al menos un iterable de números) y estamos tratando de
aplicarla a un número. Podemos definir un decorador para asegurarnos que
el tipo es correcto (que no es del todo correcto)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_argumento_list_num</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Error: El argumento debe ser una lista&quot;</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">check</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mi_parabola</span> <span class="o">=</span> <span class="n">test_argumento_list_num</span><span class="p">(</span><span class="n">mi_parabola</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mi_parabola</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mi_parabola</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<p>Supongamos que queremos simplemente extender la función para que sea
válida también con argumentos escalares. Definimos una nueva función que
utilizaremos como decorador</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">hace_argumento_list</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
    <span class="s2">&quot;Corrige el argumento si no es una lista&quot;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">f</span><span class="p">([</span><span class="n">v</span><span class="p">])</span>
  <span class="k">return</span> <span class="n">check</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@hace_argumento_list</span>
<span class="k">def</span> <span class="nf">parabola</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">parabola</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">parabola</span><span class="p">([</span><span class="mi">3</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="atrapar-y-administrar-errores">
<h2>Atrapar y administrar errores<a class="headerlink" href="#atrapar-y-administrar-errores" title="Enlazar permanentemente con este título">¶</a></h2>
<p><strong>Python</strong> tiene incorporado un mecanismo para atrapar errores de
distintos tipos, así como para generar errores que den información al
usuario sobre usos incorrectos del código.</p>
<p>En primer lugar consideremos lo que se llama un error de sintaxis. El
siguiente comando es sintácticamente correcto y el intérprete sabe como
leerlo</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;hola&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hola</span>
</pre></div>
</div>
<p>mientras que, si escribimos algo que no está permitido en el lenguaje</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;hola&quot;</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">File</span> <span class="s2">&quot;&lt;ipython-input-22-3e8c6f917d42&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hola&quot;</span><span class="p">))</span>
                 <span class="o">^</span>
<span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">syntax</span>
</pre></div>
</div>
<p>El intérprete detecta el error y repite la línea donde lo identifica.
Este tipo de errores debe corregirse para poder seguir con el programa.</p>
<p>Consideremos ahora el código siguiente, que es sintácticamente correcto
pero igualmente causa un error</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">ZeroDivisionError</span>                         <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">23</span><span class="o">-</span><span class="n">fd0e24f40c98</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="mi">1</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
      <span class="mi">2</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span>
<span class="o">----&gt;</span> <span class="mi">3</span> <span class="n">z</span> <span class="o">=</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>


<span class="ne">ZeroDivisionError</span><span class="p">:</span> <span class="n">division</span> <span class="n">by</span> <span class="n">zero</span>
</pre></div>
</div>
<p>Cuando se encuentra un error, <strong>Python</strong> muestra el lugar en que ocurre
y de qué tipo de error se trata.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span> <span class="p">(</span><span class="n">hola</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">NameError</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">24</span><span class="o">-</span><span class="n">c6948929a301</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="nb">print</span> <span class="p">(</span><span class="n">hola</span><span class="p">)</span>


<span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;hola&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre></div>
</div>
<p>Este mensaje da un tipo de error diferente. Ambos: <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code>
y <code class="docutils literal notranslate"><span class="pre">NameError</span></code> son tipos de errores (o excepciones). Hay una larga
lista de tipos de errores que son parte del lenguaje y puede consultarse
en la documentación de <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#bltin-exceptions">Built-in
Exceptions</a>.</p>
<div class="section" id="administracion-de-excepciones">
<h3>Administración de excepciones<a class="headerlink" href="#administracion-de-excepciones" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Cuando nuestro programa aumenta en complejidad, aumenta la posibilidad
de encontrar errores. Esto se incrementa si se tiene que interactuar con
otros usuarios o con datos externos. Consideremos el siguiente ejemplo
simple:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">cat</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">ej_clase5</span><span class="o">.</span><span class="n">dat</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="mi">2</span>
<span class="mi">2</span> <span class="mi">6</span>
<span class="mi">3</span> <span class="mi">9</span>
<span class="mi">4</span> <span class="mi">12</span>
<span class="mf">5.5</span> <span class="mf">30.25</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../data/ej_clase5.dat&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">fi</span><span class="p">:</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;t = {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>        <span class="c1"># Línea sólo para inspección</span>
    <span class="n">m</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;m = {}, n = {}, m x n = {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">]</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">]</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">]</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">27</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;12&#39;</span><span class="p">]</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">48</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;5.5&#39;</span><span class="p">,</span> <span class="s1">&#39;30.25&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">ValueError</span>                                <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">26</span><span class="o">-</span><span class="mi">55192</span><span class="n">d3677b3</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="mi">3</span>     <span class="n">t</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
      <span class="mi">4</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>        <span class="c1"># Línea sólo para inspección</span>
<span class="o">----&gt;</span> <span class="mi">5</span>     <span class="n">m</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
      <span class="mi">6</span>     <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
      <span class="mi">7</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;m = </span><span class="si">{}</span><span class="s2">, n = </span><span class="si">{}</span><span class="s2">, m x n = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">))</span>


<span class="ne">ValueError</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">literal</span> <span class="k">for</span> <span class="nb">int</span><span class="p">()</span> <span class="k">with</span> <span class="n">base</span> <span class="mi">10</span><span class="p">:</span> <span class="s1">&#39;5.5&#39;</span>
</pre></div>
</div>
<p>En este caso se “levanta” una excepción del tipo <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> debido a
que este valor (<code class="docutils literal notranslate"><span class="pre">5.5</span></code>) no se puede convertir a <code class="docutils literal notranslate"><span class="pre">int</span></code>. Podemos
modificar nuestro programa para manejar este error:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../data/ej_clase5.dat&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">fi</span><span class="p">:</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
      <span class="n">m</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
      <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
      <span class="k">print</span><span class="p">(</span><span class="s2">&quot;m = {}, n = {}, m x n = {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">))</span>
    <span class="k">except</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Error: t = {} no puede convertirse a entero&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">27</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">48</span>
<span class="n">Error</span><span class="p">:</span> <span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;5.5&#39;</span><span class="p">,</span> <span class="s1">&#39;30.25&#39;</span><span class="p">]</span> <span class="n">no</span> <span class="n">puede</span> <span class="n">convertirse</span> <span class="n">a</span> <span class="n">entero</span>
</pre></div>
</div>
<p>En este caso podríamos ser más precisos y especificar el tipo de
excepción que estamos esperando</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../data/ej_clase5.dat&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">fi</span><span class="p">:</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
      <span class="n">m</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
      <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
      <span class="k">print</span><span class="p">(</span><span class="s2">&quot;m = {}, n = {}, m x n = {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">))</span>
    <span class="k">except</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
      <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Error: t = {} no puede convertirse a entero&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">27</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">48</span>
<span class="n">Error</span><span class="p">:</span> <span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;5.5&#39;</span><span class="p">,</span> <span class="s1">&#39;30.25&#39;</span><span class="p">]</span> <span class="n">no</span> <span class="n">puede</span> <span class="n">convertirse</span> <span class="n">a</span> <span class="n">entero</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../data/ej_clase5.dat&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">fi</span><span class="p">:</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
      <span class="n">m</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
      <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
      <span class="k">print</span><span class="p">(</span><span class="s2">&quot;m = {}, n = {}, m x n = {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="p">))</span>
    <span class="k">except</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
      <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Error: t = {} no puede convertirse a entero&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
    <span class="k">except</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">):</span>
      <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Error: La línea &quot;{}&quot; no contiene un par&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">l</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">27</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">m</span> <span class="n">x</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">48</span>
<span class="n">Error</span><span class="p">:</span> <span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;5.5&#39;</span><span class="p">,</span> <span class="s1">&#39;30.25&#39;</span><span class="p">]</span> <span class="n">no</span> <span class="n">puede</span> <span class="n">convertirse</span> <span class="n">a</span> <span class="n">entero</span>
</pre></div>
</div>
<p>La forma general</p>
<p>La declaración <code class="docutils literal notranslate"><span class="pre">try</span></code> funciona de la siguiente manera:</p>
<ul class="simple">
<li><p>Primero, se ejecuta el <em>bloque try</em> (el código entre las declaración
<code class="docutils literal notranslate"><span class="pre">try</span></code> y <code class="docutils literal notranslate"><span class="pre">except</span></code>).</p></li>
<li><p>Si no ocurre ninguna excepción, el <em>bloque except</em> se saltea y
termina la ejecución de la declaración <code class="docutils literal notranslate"><span class="pre">try</span></code>.</p></li>
<li><p>Si ocurre una excepción durante la ejecución del <em>bloque try</em>, el
resto del bloque se saltea. Luego, si su tipo coincide con la
excepción nombrada luego de la palabra reservada <code class="docutils literal notranslate"><span class="pre">except</span></code>, se
ejecuta el <em>bloque except</em>, y la ejecución continúa luego de la
declaración <code class="docutils literal notranslate"><span class="pre">try</span></code>.</p></li>
<li><p>Si ocurre una excepción que no coincide con la excepción nombrada en
el <code class="docutils literal notranslate"><span class="pre">except</span></code>, esta se pasa a declaraciones <code class="docutils literal notranslate"><span class="pre">try</span></code> de más afuera; si
no se encuentra nada que la maneje, es una <em>excepción no manejada</em>, y
la ejecución se frena con un mensaje como los mostrados arriba.</p></li>
</ul>
<p>El mecanismo es un poco más complejo, y permite un control más fino que
lo descripto aquí.</p>
</div>
<div class="section" id="levantando-excepciones">
<h3>“Levantando” excepciones<a class="headerlink" href="#levantando-excepciones" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Podemos forzar a que nuestro código levante una excepción usando
<code class="docutils literal notranslate"><span class="pre">raise</span></code>. Por ejemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
  <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;x = {}, no debería ser positivo&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">Exception</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">30</span><span class="o">-</span><span class="n">c3c4a53042e7</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="mi">1</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
      <span class="mi">2</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="o">----&gt;</span> <span class="mi">3</span>   <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;x = </span><span class="si">{}</span><span class="s2">, no debería ser positivo&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>


<span class="ne">Exception</span><span class="p">:</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">no</span> <span class="n">debería</span> <span class="n">ser</span> <span class="n">positivo</span>
</pre></div>
</div>
<p>O podemos ser más específicos, y dar el tipo de error adecuado</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
  <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;x = {}, no debería ser positivo&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">ValueError</span>                                <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">31</span><span class="o">-</span><span class="mi">3</span><span class="n">c0ee90e0415</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="mi">1</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
      <span class="mi">2</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="o">----&gt;</span> <span class="mi">3</span>   <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;x = </span><span class="si">{}</span><span class="s2">, no debería ser positivo&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>


<span class="ne">ValueError</span><span class="p">:</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">no</span> <span class="n">debería</span> <span class="n">ser</span> <span class="n">positivo</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="clase_06.html" class="btn btn-neutral float-right" title="Clase 6: Programación Orientada a Objetos" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="clase_04.html" class="btn btn-neutral float-left" title="Clase 4: Técnicas de iteración y Funciones" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Juan Fiol

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>